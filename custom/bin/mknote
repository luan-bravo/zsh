#! /usr/bin/env zsh

# Make note
[[ $# -gt 1 ]] && \
    ec $red "[mknote]: Too many arguments. Provide just the note name or no arguments."

local date="$(date +%y%m%d)"
local time="$(date +%H%M)"

local fileName="${date}${time}"

[[ -n "$1" ]] && \
    fileName+="--$1"

fileName+=".md"


# Capitalize initials && Swap non-alphanumeric chars for spaces
local title=$(sed 's/[^[:alnum:]]/ /g' <<< "$1" | sed -E 's/\b(.)/\u\1/g')
echo "# ${title}\n" >> "./${fileName}"
# echo "# Created : ${date} -- ${time}\n\n" >> "./${fileName}"


nvim "./${fileName}"
