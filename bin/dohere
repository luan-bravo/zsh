#!/usr/bin/env zsh

usage() {
	echo "DOHERE"
	echo "\tMake aliases cleaner by adding a '.' in case no arguments are passed"
	echo
	echo "\tUSAGE"
	echo "dohere <command> [args...]"
	echo
	echo "\tIf no [arguments] are provided, the <command> is ran as '<command> \$toplevel' if in a repo, or as '<command> .'"
	echo "\tElse, the [arguments] get passed down and the <command> executed as usual"
}

declare cmd="$1"
shift || {
	echo "[dohere] ERROR: No arguments passed"
	echo
	usage
	exit 1
}

if (( $# )); then
	"$cmd" "$@"
else
	"$cmd" "."
fi
